(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{136:function(t,e,a){},138:function(t,e,a){},139:function(t,e,a){},142:function(t,e,a){},146:function(t,e,a){},147:function(t,e,a){},149:function(t,e,a){},150:function(t,e,a){},151:function(t,e,a){},152:function(t,e,a){},153:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(28),s=a.n(r),i=(a(136),a(137),a(138),a(27)),l=a(30),o=a(61),u=a(54),j=a(53),h=(a(139),a(207)),b=a(206),d=a(187),O=a(120),f="https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png",g=0,v=1,p=2,x=Object(O.a)({palette:{black:{main:"#000",contrastText:"#fff"}}}),m=(a(142),a(1));function k(t){return Object(m.jsx)(d.a,{className:"StartPage",children:Object(m.jsxs)(d.a,{children:[Object(m.jsx)("img",{src:f,alt:"logo"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"}),Object(m.jsx)(h.a,{theme:x,children:Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:t.onStart,children:"Start"})})]})]})})}var S=a(6),C=(a(146),a(3)),N=(a(147),a(114)),y=a.n(N),G=a(115),w=a.n(G),P=a(116),A=a.n(P),I=a(204),E=a(209),B=a(199),R=a(203),H=a(198),T=a(192);function L(t){var e=Object(S.a)(t.error,2),a=e[0],c=e[1];return Object(n.useEffect)((function(){var t=setInterval((function(){return c(!1)}),2e3);return function(){return clearInterval(t)}}),[a]),Object(m.jsx)(H.a,{target:t.target,show:a,placement:"top",children:Object(m.jsx)(T.a,{children:a})})}function F(t){var e=Object(n.useState)(t.santa.name),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(n.useRef)(null);return Object(m.jsxs)(R.a,Object(C.a)(Object(C.a)({},t),{},{className:"EditCard",size:"lg",centered:!0,children:[Object(m.jsx)(R.a.Header,{children:Object(m.jsx)(R.a.Title,{children:"Edit Santa Info"})}),Object(m.jsx)(R.a.Body,{children:Object(m.jsx)(B.a,{label:"Name",value:c,onChange:function(t){r(t.target.value)}})}),Object(m.jsxs)(R.a.Footer,{children:[Object(m.jsxs)(h.a,{theme:x,children:[Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:t.onHide,children:"Cancel"}),Object(m.jsx)(b.a,{ref:u,color:"black",variant:"outlined",onClick:function(){var e=t.validateName(c,t.index);if(o(e),!e){var a=t.santa;a.name=c,t.editSanta(t.index,a),t.onHide()}},children:"Confirm"})]}),Object(m.jsx)(L,{target:u.current,error:[l,o]})]})]}))}function M(t){var e=Object(n.useState)(!1),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(m.jsx)(E.a,{className:"right",fontSize:"small",onClick:function(){return r(!0)},children:Object(m.jsx)(y.a,{})}),i=Object(m.jsx)(E.a,{className:"right",fontSize:"small",onClick:function(){t.removeSanta(t.index)},children:Object(m.jsx)(w.a,{})}),l=Object(m.jsx)(E.a,{className:"right",fontSize:"small",onClick:function(){t.showResult(t.santa)},children:Object(m.jsx)(A.a,{})});return Object(m.jsx)(I.a,{className:"SantaCard",children:Object(m.jsxs)(I.a.Body,{children:[t.removeSanta&&i,t.editSanta&&s,t.showResult&&l,Object(m.jsx)(I.a.Title,{children:t.santa.name}),t.assigned&&Object(m.jsxs)(I.a.Text,{children:["Assigned to ",t.assigned.name]}),Object(m.jsx)(F,Object(C.a)(Object(C.a)({},t),{},{show:c,onHide:function(){return r(!1)}}))]})},t.index)}var _=a(196),z=a(117);function V(t){return Object(m.jsx)(d.a,{className:"SantaTable",fluid:!0,children:t.santaGraph.santas.length>0?Object(m.jsx)(_.a,{xs:2,sm:3,md:5,children:t.santaGraph.santas.map((function(e,a){return Object(m.jsx)(z.a,{children:Object(m.jsx)(M,Object(C.a)(Object(C.a)({},t),{},{index:a,santa:e,assigned:t.assignedVisible?t.santaGraph.santas[e.assigned]:null}))})}))}):Object(m.jsx)("p",{children:"There are no santa yet..."})})}var K=a(201),J=a(118);function Q(t){var e=Object(n.useState)(""),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(n.useRef)(null);return Object(m.jsxs)(K.a,{className:"SantaInput",onSubmit:function(e){e.preventDefault();var a=t.validateName(c,-1);if(o(a),!a){var n={name:c,assigned:null};t.addSanta(n),r("")}},children:[Object(m.jsx)(J.a,{value:c,placeholder:"Enter a name here...",onChange:function(t){r(t.target.value)},maxLength:20}),Object(m.jsx)(h.a,{theme:x,children:Object(m.jsx)(b.a,{ref:u,color:"black",variant:"outlined",type:"submit",value:"Add",children:"Add"})}),Object(m.jsx)(L,{target:u.current,error:[l,o]})]})}function D(t){var e=Object(n.useState)(t.santaGraph),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(n.useRef)(null),j=function(t,e){if(""===t)return"Name cannot be empty.";for(var a=0;a<c.santas.length;a++)if(c.santas[a].name===t){if(a==e)break;return"Name has been entered."}return null},O=function(){return c.santas.length<2?"Please enter at least 2 names.":null};return Object(m.jsxs)(d.a,{className:"EditPage",fluid:!0,children:[Object(m.jsx)(Q,{addSanta:function(t){c.addSanta(t),r(c.clone())},validateName:j}),Object(m.jsx)(V,{santaGraph:c,editSanta:function(t,e){c.santas[t]=e,r(c.clone())},removeSanta:function(t){c.removeNthSanta(t+1),r(c.clone())},validateName:j}),Object(m.jsxs)("div",{className:"ButtonBar",children:[Object(m.jsxs)(h.a,{theme:x,children:[Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:function(){t.toPage(g)},children:"Back"}),Object(m.jsx)(b.a,{ref:u,color:"black",variant:"outlined",onClick:function(){var e=O();o(e),e||(t.updateGraph(c),t.toPage(p))},children:"Confirm"})]}),Object(m.jsx)(L,{target:u.current,error:[l,o]})]})]})}a(149),a(150);function U(t){return Object(m.jsxs)(R.a,Object(C.a)(Object(C.a)({},t),{},{size:"lg",centered:!0,children:[Object(m.jsx)(R.a.Header,{closeButton:!0,children:Object(m.jsx)(R.a.Title,{children:t.title})}),Object(m.jsx)(R.a.Body,{children:t.content})]}))}function W(t){var e=Object(n.useState)(t.santaGraph),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(n.useState)(null),j=Object(S.a)(u,2),O=j[0],f=j[1],p=Object(n.useState)(null),k=Object(S.a)(p,2),C=k[0],N=k[1],y=Object(n.useState)(!1),G=Object(S.a)(y,2),w=G[0],P=G[1];Object(n.useEffect)((function(){c.shuffle(),r(c.clone())}),[]);return Object(m.jsxs)(d.a,{className:"ResultPage",fluid:!0,children:[Object(m.jsx)(V,{santaGraph:c,showResult:function(e){var a=t.santaGraph.santas[e.assigned];f(Object(m.jsx)("p",{children:e.name})),N(Object(m.jsxs)("p",{children:["Your recipient is ",Object(m.jsx)("strong",{children:a.name}),"!"]})),o(!0)},assignedVisible:w}),Object(m.jsx)("div",{className:"ButtonBar",children:Object(m.jsxs)(h.a,{theme:x,children:[Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:function(){t.toPage(v)},children:"Back"}),Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:function(){c.shuffle(),r(c.clone())},children:"Reshuffle!"}),Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:function(){P(!w)},children:"Show All!"}),Object(m.jsx)(b.a,{color:"black",variant:"outlined",onClick:function(){t.toPage(g)},children:"Finished"})]})}),Object(m.jsx)(U,{show:l,onHide:function(){return o(!1)},title:O,content:C})]})}var Y=a(200);a(151);function X(t){return Object(m.jsx)(Y.a,{className:"Header",children:Object(m.jsxs)(d.a,{className:"justify-content-center",fluid:!0,children:[Object(m.jsx)("img",{src:f,alt:"logo",className:"logo"}),Object(m.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"})]})})}var q=a(197),Z=a(208),$=a(119);a(152);function tt(t){var e=Object(n.useState)(!1),a=Object(S.a)(e,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(n.useState)(null),j=Object(S.a)(u,2),h=j[0],b=j[1],d=Object(n.useState)(!1),O=Object(S.a)(d,2),f=O[0],g=O[1],v=Object(n.useState)(!1),p=Object(S.a)(v,2),x=p[0],k=p[1];Object(n.useEffect)((function(){var t=setInterval((function(){return g(!1)}),1e3);return function(){return clearInterval(t)}}),[f]),Object(n.useEffect)((function(){var t=setInterval((function(){return k(!1)}),1e3);return function(){return clearInterval(t)}}),[x]);return Object(m.jsxs)(Y.a,{className:"Footer justify-content-center",children:[Object(m.jsxs)(q.a,{className:"Footer-links",children:[Object(m.jsx)(Z.a,{variant:"link",onClick:function(){o("Credit"),b(Object(m.jsxs)("p",{children:["Illustration: ",Object(m.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})),r(!0)},children:"Credit"}),Object(m.jsx)(Z.a,{variant:"link",onClick:function(){o(Object(m.jsx)("p",{children:"Loading"})),r(!0),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(t){return t.text()})).then((function(t){o(Object(m.jsx)("p",{children:"ChangeLog"})),b(Object(m.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:$.marked.parse(t)}}))}))},children:"Change Log"}),Object(m.jsx)(Z.a,{variant:"link",onClick:function(){return t="https://github.com/Kit2196/secret-santa-generator",window.open(t,"_blank");var t},children:"Github Repository"}),Object(m.jsx)(Z.a,{variant:"link",onClick:function(){return g(!0)},children:f?"WIP":"My page"}),Object(m.jsx)(Z.a,{variant:"link",onClick:function(){return k(!0)},children:x?"WIP":"Other projects"})]}),Object(m.jsx)(U,{show:c,onHide:function(){return r(!1)},title:l,content:h})]})}var et=a(20),at=function(){function t(){Object(i.a)(this,t)}return Object(l.a)(t,null,[{key:"factorial",value:function(t){return t>1?this.factorial(t-1)*t:1}},{key:"randomInt",value:function(t,e){return Math.round(Math.random()*(e-t))+t}},{key:"derangement",value:function(e){for(var a=Object(et.a)(Array(e).keys()),n=Array(e).fill(!1),c=function(e){return(t.factorial(e)+1)/Math.E},r=e,s=e;s>=2;){if(!n[r-1]){do{var i=t.randomInt(1,r-1)}while(n[i-1]);var l=[a[i-1],a[r-1]];a[r-1]=l[0],a[i-1]=l[1],Math.random()<(s-1)*c(s-2)/c(s)&&(n[i-1]=!0,s--),s--}r--}return a}}]),t}(),nt=function(){function t(){Object(i.a)(this,t),this.santas=[],this.graph=[]}return Object(l.a)(t,[{key:"addSanta",value:function(t){if(this.santas.push(t),this.santas.length>1){this.graph.push([]);for(var e=0;e<this.graph.length;e++)this.graph[e].push(!0)}}},{key:"removeNthSanta",value:function(t){if(t>this.santas.length||1>t)throw"Out of bound";var e=t-1;this.santas.splice(e,1);for(var a=0;a<this.santas.length;a++){if(a===e){this.graph.splice(a,1);break}this.graph[a].splice(e-a-1,1)}this.printRelationship()}},{key:"removeAllSanta",value:function(){this.santas=[],this.graph=[[]]}},{key:"isConnected",value:function(t,e){var a=this.validateSantaPair(t,e),n=Object(S.a)(a,2);return t=n[0],e=n[1],this.graph[t-1][e-t-1]}},{key:"toggleConnection",value:function(t,e){var a=this.validateSantaPair(t,e),n=Object(S.a)(a,2);t=n[0],e=n[1],this.graph[t-1][e-t-1]=!this.graph[t-1][e-t-1],console.log([t,e]),this.printRelationship()}},{key:"shuffle",value:function(){var t,e=function(t){for(var e=0;e<t.length;e++)if(e===t[e])return!1;return!0};do{t=at.derangement(this.santas.length)}while(!e(t));for(var a=0;a<this.santas.length;a++)this.santas[a].assigned=t[a]}},{key:"validateSantaPair",value:function(t,e){if(t===e)throw"Error! Trying to look up the same santa";if(t>this.santas.length||e>this.santas.length||t<1||e<1)throw"Error! Out of bound";return t>e?[e,t]:[t,e]}},{key:"printRelationship",value:function(){for(var t=0;t<this.santas.length;t++)console.log(this.graph[t])}},{key:"clone",value:function(){var e=new t;return e.santas=this.santas,e.graph=this.graph,e}}]),t}();window.SantaGraph=nt;var ct=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={page:g,santaGraph:new nt},n.updateGraph=n.updateGraph.bind(Object(o.a)(n)),n.toPage=n.toPage.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"updateGraph",value:function(t){this.setState({page:this.state.page,santaGraph:t})}},{key:"toPage",value:function(t){var e=this.state;e.page=t,t===g&&(e.santaGraph=new nt),this.setState(e)}},{key:"loadPage",value:function(){var t=this;switch(this.state.page){case g:return Object(m.jsx)(k,{onStart:function(){t.toPage(v)}});case v:return Object(m.jsx)(D,{santaGraph:this.state.santaGraph,updateGraph:this.updateGraph,toPage:this.toPage});case p:return Object(m.jsx)(W,{santaGraph:this.state.santaGraph,toPage:this.toPage});default:return Object(m.jsx)("p",{children:"Error! Page not found!"})}}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"SecretSanta",children:[this.state.page!==g&&Object(m.jsx)(X,{}),this.loadPage(),Object(m.jsx)(tt,{})]})}}]),a}(c.a.Component);var rt=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(ct,{})})},st=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),r(t),s(t)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(rt,{})}),document.getElementById("root")),st()}},[[153,1,2]]]);
//# sourceMappingURL=main.1bba9795.chunk.js.map