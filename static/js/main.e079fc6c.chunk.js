(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(10),i=n.n(c),r=(n(18),n(19),n(8)),l=n(6),o=n(7),u=n(2),j=n(13),d=n(12),b=(n(20),"https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png"),h=0,O=1,f=2,m=(n(21),n(0));function v(t){return Object(a.useEffect)((function(){t.removeAllSantas()}),[]),Object(m.jsxs)("div",{className:"Start",children:[Object(m.jsx)("img",{src:b,alt:"logo"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Secret Santa Generator"}),Object(m.jsx)("button",{onClick:t.onStart,children:"Start"})]})]})}n(23),n(24);function g(t){return Object(m.jsxs)("li",{className:"SantaCell",onClick:t.showResult?function(){t.showResult(t.santa)}:null,children:[Object(m.jsxs)("div",{className:"SantaCell-Text",children:[Object(m.jsx)("p",{children:t.santa.name}),t.assigned&&Object(m.jsxs)("p",{className:"small-font",children:["Assigned to ",t.assigned.name]})]}),t.removeSanta&&Object(m.jsx)("button",{className:"CellRemoveBtn",onClick:function(){t.removeSanta(t.santa.id)},children:"\u2716"})]},t.santa.id)}function x(t){return t.santas.length>0?Object(m.jsx)("ul",{className:"SantaTable",children:t.santas.map((function(e){return Object(m.jsx)(g,{santa:e,showResult:t.showResult,removeSanta:t.removeSanta,assigned:t.assignedVisible?t.santas[e.assigned]:null})}))}):Object(m.jsx)("p",{children:"There are no santa yet..."})}var S=n(3);function p(t){var e=Object(a.useState)(""),n=Object(S.a)(e,2),s=n[0],c=n[1];return Object(m.jsxs)("form",{className:"SantaInput",onSubmit:function(e){e.preventDefault(),t.addSanta(s),c("")},children:[Object(m.jsx)("input",{value:s,placeholder:"Enter a name here...",onChange:function(t){c(t.target.value)},maxLength:20}),Object(m.jsx)("input",{type:"submit",value:"Add",disabled:!t.isSantaNameValid(s)})]})}function k(t){return Object(m.jsxs)("div",{className:"EditPage",children:[Object(m.jsx)(p,{addSanta:t.addSanta,isSantaNameValid:t.isSantaNameValid}),Object(m.jsx)(x,{santas:t.santas,removeSanta:t.removeSanta}),Object(m.jsxs)("div",{className:"ButtonBar",children:[Object(m.jsx)("button",{onClick:function(){t.toPage(h)},children:"Back"}),Object(m.jsx)("button",{onClick:function(){t.toPage(f)},disabled:!(t.santas.length>=2),children:"Confirm"})]})]})}n(25),n(26);function N(t){return Object(m.jsxs)("div",{className:"Overlay",children:[Object(m.jsxs)("div",{className:"Overlay-Container",children:[Object(m.jsx)("button",{className:"Overlay-Close-Btn",onClick:t.disableOverlay,children:"\u2716"}),t.content]}),Object(m.jsx)("div",{className:"Overlay-Greyscreen",onClick:t.disableOverlay,children:" "})]})}function C(t){var e=Object(a.useState)(null),n=Object(S.a)(e,2),s=n[0],c=n[1],i=Object(a.useState)(!1),r=Object(S.a)(i,2),l=r[0],o=r[1];Object(a.useEffect)((function(){t.assignRecipients()}),[]);return Object(m.jsxs)("div",{className:"SantaResult",children:[Object(m.jsx)(x,{santas:t.santas,showResult:function(e){var n=t.santas[e.assigned];c(Object(m.jsxs)("div",{className:"Overlay-Result",children:[Object(m.jsxs)("p",{children:[e.name,","]}),Object(m.jsxs)("p",{children:["You are assigned to ",Object(m.jsx)("strong",{children:n.name})]})]}))},assignedVisible:l}),Object(m.jsxs)("div",{className:"ButtonBar",children:[Object(m.jsx)("button",{onClick:function(){t.toPage(O)},children:"Back"}),Object(m.jsx)("button",{onClick:function(){t.assignRecipients()},children:"Reshuffle!"}),Object(m.jsx)("button",{onClick:function(){o(!l)},children:"Show All!"}),Object(m.jsx)("button",{onClick:function(){t.toPage(h)},children:"Finished"})]}),s&&Object(m.jsx)(N,{content:s,disableOverlay:function(){return c(null)}})]})}n(27);function y(t){return Object(m.jsxs)("div",{className:"Header",children:[Object(m.jsx)("img",{src:b,alt:"logo"}),Object(m.jsx)("p",{children:"Secret Santa Generator"})]})}var A=function(){function t(){Object(l.a)(this,t)}return Object(o.a)(t,null,[{key:"factorial",value:function(t){return t>1?this.factorial(t-1)*t:1}},{key:"randomInt",value:function(t,e){return Math.round(Math.random()*(e-t))+t}},{key:"derangement",value:function(e){for(var n=Object(r.a)(Array(e).keys()),a=Array(e).fill(!1),s=function(e){return(t.factorial(e)+1)/Math.E},c=e,i=e;i>=2;){if(!a[c-1]){do{var l=t.randomInt(1,c-1)}while(a[l-1]);var o=[n[l-1],n[c-1]];n[c-1]=o[0],n[l-1]=o[1],Math.random()<(i-1)*s(i-2)/s(i)&&(a[l-1]=!0,i--),i--}c--}return n}}]),t}();window.derangement=A.derangement;var R=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={page:h,santas:[],rules:{}},a.toPage=a.toPage.bind(Object(u.a)(a)),a.addSanta=a.addSanta.bind(Object(u.a)(a)),a.removeSanta=a.removeSanta.bind(Object(u.a)(a)),a.removeAllSantas=a.removeAllSantas.bind(Object(u.a)(a)),a.assignRecipients=a.assignRecipients.bind(Object(u.a)(a)),a.isSantaNameValid=a.isSantaNameValid.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"toPage",value:function(t){var e=this.state;e.page=t,this.setState(e)}},{key:"addSanta",value:function(t){var e={id:Date.now(),name:t,assigned:null},n=this.state;n.santas=[].concat(Object(r.a)(n.santas),[e]),this.setState(n)}},{key:"isSantaNameValid",value:function(t){if(""===t)return!1;for(var e=0;e<this.state.santas.length;e++)if(this.state.santas[e].name===t)return!1;return!0}},{key:"removeSanta",value:function(t){var e=this.state;e.santas=e.santas.filter((function(e){return e.id!==t})),this.setState(e)}},{key:"removeAllSantas",value:function(){var t=this.state;t.santas=[],this.setState(t)}},{key:"assignRecipients",value:function(){var t,e=function(t){for(var e=0;e<t.length;e++)if(e==t[e])return!1;return!0};do{t=A.derangement(this.state.santas.length)}while(!e(t));for(var n=this.state,a=0;a<this.state.santas.length;a++)n.santas[a].assigned=t[a];this.setState(n)}},{key:"render",value:function(){var t,e=this,n=!0;switch(this.state.page){case h:t=Object(m.jsx)(v,{onStart:function(){e.toPage(O)},removeAllSantas:this.removeAllSantas}),n=!1;break;case O:t=Object(m.jsx)(k,{santas:this.state.santas,addSanta:this.addSanta,removeSanta:this.removeSanta,isSantaNameValid:this.isSantaNameValid,toPage:this.toPage});break;case f:t=Object(m.jsx)(C,{santas:this.state.santas,assignRecipients:this.assignRecipients,toPage:this.toPage});break;default:t=Object(m.jsx)("p",{children:"Error! Page not found!"})}return Object(m.jsxs)("div",{className:"SecretSanta",children:[n&&Object(m.jsx)(y,{}),t]})}}]),n}(s.a.Component),w=n(11);n(28);function P(t){var e=Object(a.useState)(null),n=Object(S.a)(e,2),s=n[0],c=n[1],i=Object(m.jsxs)("div",{className:"Credit",children:[Object(m.jsx)("h1",{children:"Credit"}),Object(m.jsxs)("p",{children:["Illustration: ",Object(m.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})]});return Object(m.jsxs)("div",{className:"Footer",children:[Object(m.jsxs)("ul",{className:"Footer-links",children:[Object(m.jsx)("li",{onClick:function(){return c(i)},children:"Credit"}),Object(m.jsx)("li",{onClick:function(){c(Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Loading"})})),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(t){return t.text()})).then((function(t){return c(Object(m.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:w.marked.parse(t)}}))}))},children:"Change Log"}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://github.com/Kit2196/secret-santa-generator",children:"Github Repository"})}),Object(m.jsx)("li",{children:"My page"}),Object(m.jsx)("li",{children:"Other projects"})]}),s&&Object(m.jsx)(N,{content:s,disableOverlay:function(){return c(null)}})]})}var V=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(R,{}),Object(m.jsx)(P,{})]})},B=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),c(t),i(t)}))};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(V,{})}),document.getElementById("root")),B()}},[[29,1,2]]]);
//# sourceMappingURL=main.e079fc6c.chunk.js.map