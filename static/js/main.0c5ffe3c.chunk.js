(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),r=a.n(c),i=(a(59),a(60),a(61),a(17)),l=a(16),o=a(19),u=a(23),j=a(30),d=a(28),h=(a(62),a(78)),b=a(86),O="https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png",f=0,v=1,g=2,x=(a(63),a(1));function m(e){return Object(n.useEffect)((function(){e.removeAllSantas()}),[]),Object(x.jsx)(h.a,{className:"StartPage",children:Object(x.jsxs)(h.a,{children:[Object(x.jsx)("img",{src:O,alt:"logo"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"}),Object(x.jsx)(b.a,{variant:"outline-dark",onClick:e.onStart,children:"Start"})]})]})})}var S=a(2),p=a(6),k=(a(65),a(82)),y=a(80),C=(a(66),a(85)),N=a(48);function A(e){return Object(x.jsx)(C.a,{className:"SantaCard",onClick:e.showResult?function(){e.showResult(e.santa)}:null,children:Object(x.jsxs)(C.a.Body,{children:[e.removeSanta&&Object(x.jsx)(N.a,{className:"right",onClick:function(){e.removeSanta(e.santa.id)}}),Object(x.jsx)(C.a.Title,{children:e.santa.name}),e.assigned&&Object(x.jsxs)(C.a.Text,{children:["Assigned to ",e.assigned.name]})]})})}var P=a(79),w=a(49);function R(e){return Object(x.jsx)(h.a,{className:"SantaTable",fluid:!0,children:e.santas.length>0?Object(x.jsx)(P.a,{children:e.santas.map((function(t){return Object(x.jsx)(w.a,{children:Object(x.jsx)(A,{santa:t,showResult:e.showResult,removeSanta:e.removeSanta,assigned:e.assignedVisible?e.santas[t.assigned]:null})})}))}):Object(x.jsx)("p",{children:"There are no santa yet..."})})}var B=a(84),I=a(50);function E(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(p.a)(r,2),l=i[0],o=i[1],u=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=setInterval((function(){return o(!1)}),5e3);return function(){return clearInterval(e)}}),[l]);var j=function(){if(""===s)return o("Please enter a name."),!1;for(var t=0;t<e.santas.length;t++)if(e.santas[t].name===s)return o("Name has been entered."),!1;return!0};return Object(x.jsxs)(B.a,{className:"SantaInput",onSubmit:function(t){t.preventDefault(),j()&&(e.addSanta(s),c(""),o(!1))},children:[Object(x.jsx)(I.a,{value:s,placeholder:"Enter a name here...",onChange:function(e){c(e.target.value)},maxLength:20}),Object(x.jsx)(b.a,{ref:u,variant:"outline-dark",type:"submit",value:"Add",children:"Add"}),Object(x.jsx)(k.a,{target:u.current,show:l,placement:"top",children:Object(x.jsx)(y.a,{children:l})})]})}function L(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),s=a[0],c=a[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=setInterval((function(){return c(!1)}),5e3);return function(){return clearInterval(e)}}),[s]);var i=function(){return!(e.santas.length<2)||(c("Please enter at least 2 names."),!1)};return Object(x.jsxs)(h.a,{className:"EditPage",fluid:!0,children:[Object(x.jsx)(E,Object(S.a)({},e)),Object(x.jsx)(R,Object(S.a)({},e)),Object(x.jsxs)("div",{className:"ButtonBar",children:[Object(x.jsx)(b.a,{variant:"outline-dark",onClick:function(){e.toPage(f)},children:"Back"}),Object(x.jsx)(b.a,{ref:r,variant:"outline-dark",onClick:function(){i()&&e.toPage(g)},children:"Confirm"}),Object(x.jsx)(k.a,{target:r.current,show:s,placement:"bottom",children:Object(x.jsx)(y.a,{children:s})})]})]})}a(69),a(70);function T(e){return Object(x.jsxs)("div",{className:"Overlay",children:[Object(x.jsx)(C.a,{className:"Overlay-Container",children:Object(x.jsxs)(C.a.Body,{children:[Object(x.jsx)(N.a,{className:"right",onClick:e.disableOverlay}),Object(x.jsx)(C.a.Text,{children:e.content})]})}),Object(x.jsx)(h.a,{className:"Overlay-Greyscreen",onClick:e.disableOverlay,fluid:!0,children:" "})]})}function F(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(p.a)(r,2),l=i[0],o=i[1];Object(n.useEffect)((function(){e.assignRecipients()}),[]);return Object(x.jsxs)(h.a,{className:"ResultPage",fluid:!0,children:[Object(x.jsx)(R,{santas:e.santas,showResult:function(t){var a=e.santas[t.assigned];c(Object(x.jsxs)("div",{className:"Overlay-Result",children:[Object(x.jsxs)("p",{children:[t.name,","]}),Object(x.jsxs)("p",{children:["You are assigned to ",Object(x.jsx)("strong",{children:a.name})]})]}))},assignedVisible:l}),Object(x.jsxs)("div",{className:"ButtonBar",children:[Object(x.jsx)(b.a,{variant:"outline-dark",onClick:function(){e.toPage(v)},children:"Back"}),Object(x.jsx)(b.a,{variant:"outline-dark",onClick:function(){e.assignRecipients()},children:"Reshuffle!"}),Object(x.jsx)(b.a,{variant:"outline-dark",onClick:function(){o(!l)},children:"Show All!"}),Object(x.jsx)(b.a,{variant:"outline-dark",onClick:function(){e.toPage(f)},children:"Finished"})]}),s&&Object(x.jsx)(T,{content:s,disableOverlay:function(){return c(null)}})]})}var G=a(83);a(71);function M(e){return Object(x.jsx)(G.a,{className:"Header",children:Object(x.jsxs)(h.a,{className:"justify-content-center",fluid:!0,children:[Object(x.jsx)("img",{src:O,alt:"logo",className:"logo"}),Object(x.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"})]})})}var H=a(81),_=a(53);a(72);function V(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),s=a[0],c=a[1],r=Object(x.jsxs)("div",{className:"Credit",children:[Object(x.jsx)("h1",{children:"Credit"}),Object(x.jsxs)("p",{children:["Illustration: ",Object(x.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})]});return Object(x.jsxs)(G.a,{className:"Footer justify-content-center",children:[Object(x.jsxs)(H.a,{className:"Footer-links",children:[Object(x.jsx)(b.a,{variant:"link",onClick:function(){return c(r)},children:"Credit"}),Object(x.jsx)(b.a,{variant:"link",onClick:function(){c(Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"Loading"})})),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(e){return e.text()})).then((function(e){return c(Object(x.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:_.marked.parse(e)}}))}))},children:"Change Log"}),Object(x.jsx)(b.a,{variant:"link",onClick:function(){return e="https://github.com/Kit2196/secret-santa-generator",window.open(e,"_blank");var e},children:"Github Repository"}),Object(x.jsx)(b.a,{variant:"link",children:"My page"}),Object(x.jsx)(b.a,{variant:"link",children:"Other projects"})]}),s&&Object(x.jsx)(T,{content:s,disableOverlay:function(){return c(null)}})]})}var K=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"factorial",value:function(e){return e>1?this.factorial(e-1)*e:1}},{key:"randomInt",value:function(e,t){return Math.round(Math.random()*(t-e))+e}},{key:"derangement",value:function(t){for(var a=Object(i.a)(Array(t).keys()),n=Array(t).fill(!1),s=function(t){return(e.factorial(t)+1)/Math.E},c=t,r=t;r>=2;){if(!n[c-1]){do{var l=e.randomInt(1,c-1)}while(n[l-1]);var o=[a[l-1],a[c-1]];a[c-1]=o[0],a[l-1]=o[1],Math.random()<(r-1)*s(r-2)/s(r)&&(n[l-1]=!0,r--),r--}c--}return a}}]),e}(),D=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={page:f,santas:[],rules:{}},n.toPage=n.toPage.bind(Object(u.a)(n)),n.addSanta=n.addSanta.bind(Object(u.a)(n)),n.removeSanta=n.removeSanta.bind(Object(u.a)(n)),n.removeAllSantas=n.removeAllSantas.bind(Object(u.a)(n)),n.assignRecipients=n.assignRecipients.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"toPage",value:function(e){var t=this.state;t.page=e,this.setState(t)}},{key:"addSanta",value:function(e){var t={id:Date.now(),name:e,assigned:null},a=this.state;a.santas=[].concat(Object(i.a)(a.santas),[t]),this.setState(a)}},{key:"removeSanta",value:function(e){var t=this.state;t.santas=t.santas.filter((function(t){return t.id!==e})),this.setState(t)}},{key:"removeAllSantas",value:function(){var e=this.state;e.santas=[],this.setState(e)}},{key:"assignRecipients",value:function(){var e,t=function(e){for(var t=0;t<e.length;t++)if(t===e[t])return!1;return!0};do{e=K.derangement(this.state.santas.length)}while(!t(e));for(var a=this.state,n=0;n<this.state.santas.length;n++)a.santas[n].assigned=e[n];this.setState(a)}},{key:"loadPage",value:function(){var e=this;switch(this.state.page){case f:return Object(x.jsx)(m,{onStart:function(){e.toPage(v)},removeAllSantas:this.removeAllSantas});case v:return Object(x.jsx)(L,{santas:this.state.santas,addSanta:this.addSanta,removeSanta:this.removeSanta,toPage:this.toPage});case g:return Object(x.jsx)(F,{santas:this.state.santas,assignRecipients:this.assignRecipients,toPage:this.toPage});default:return Object(x.jsx)("p",{children:"Error! Page not found!"})}}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"SecretSanta",children:[this.state.page!=f&&Object(x.jsx)(M,{}),this.loadPage(),Object(x.jsx)(V,{})]})}}]),a}(s.a.Component);var J=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(D,{})})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,87)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root")),Q()}},[[73,1,2]]]);
//# sourceMappingURL=main.0c5ffe3c.chunk.js.map