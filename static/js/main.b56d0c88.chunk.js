(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(14),r=n.n(c),i=(n(59),n(60),n(61),n(17)),l=n(16),o=n(19),u=n(23),j=n(30),d=n(28),b=(n(62),n(78)),h=n(86),O="https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png",f=0,v=1,m=2,x=(n(63),n(1));function g(e){return Object(a.useEffect)((function(){e.removeAllSantas()}),[]),Object(x.jsx)(b.a,{className:"StartPage",children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)("img",{src:O,alt:"logo"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"}),Object(x.jsx)(h.a,{variant:"outline-dark",onClick:e.onStart,children:"Start"})]})]})})}var S=n(2),p=n(6),k=(n(65),n(82)),y=n(80),C=(n(66),n(85)),N=n(48);function A(e){return Object(x.jsx)(C.a,{className:"SantaCard",onClick:e.showResult?function(){e.showResult(e.santa)}:null,children:Object(x.jsxs)(C.a.Body,{children:[e.removeSanta&&Object(x.jsx)(N.a,{className:"right",onClick:function(){e.removeSanta(e.santa.id)}}),Object(x.jsx)(C.a.Title,{children:e.santa.name}),e.assigned&&Object(x.jsxs)(C.a.Text,{children:["Assigned to ",e.assigned.name]})]})})}var P=n(79),w=n(49);function R(e){return Object(x.jsx)(b.a,{className:"SantaTable",fluid:!0,children:e.santas.length>0?Object(x.jsx)(P.a,{xs:2,sm:4,md:5,children:e.santas.map((function(t){return Object(x.jsx)(w.a,{children:Object(x.jsx)(A,{santa:t,showResult:e.showResult,removeSanta:e.removeSanta,assigned:e.assignedVisible?e.santas[t.assigned]:null})})}))}):Object(x.jsx)("p",{children:"There are no santa yet..."})})}var I=n(84),E=n(50);function B(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(p.a)(r,2),l=i[0],o=i[1],u=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=setInterval((function(){return o(!1)}),5e3);return function(){return clearInterval(e)}}),[l]);var j=function(){if(""===s)return o("Please enter a name."),!1;for(var t=0;t<e.santas.length;t++)if(e.santas[t].name===s)return o("Name has been entered."),!1;return!0};return Object(x.jsxs)(I.a,{className:"SantaInput",onSubmit:function(t){t.preventDefault(),j()&&(e.addSanta(s),c(""),o(!1))},children:[Object(x.jsx)(E.a,{value:s,placeholder:"Enter a name here...",onChange:function(e){c(e.target.value)},maxLength:20}),Object(x.jsx)(h.a,{ref:u,variant:"outline-dark",type:"submit",value:"Add",children:"Add"}),Object(x.jsx)(k.a,{target:u.current,show:l,placement:"top",children:Object(x.jsx)(y.a,{children:l})})]})}function L(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=setInterval((function(){return c(!1)}),5e3);return function(){return clearInterval(e)}}),[s]);var i=function(){return!(e.santas.length<2)||(c("Please enter at least 2 names."),!1)};return Object(x.jsxs)(b.a,{className:"EditPage",fluid:!0,children:[Object(x.jsx)(B,Object(S.a)({},e)),Object(x.jsx)(R,Object(S.a)({},e)),Object(x.jsxs)("div",{className:"ButtonBar",children:[Object(x.jsx)(h.a,{variant:"outline-dark",onClick:function(){e.toPage(f)},children:"Back"}),Object(x.jsx)(h.a,{ref:r,variant:"outline-dark",onClick:function(){i()&&e.toPage(m)},children:"Confirm"}),Object(x.jsx)(k.a,{target:r.current,show:s,placement:"bottom",children:Object(x.jsx)(y.a,{children:s})})]})]})}n(69),n(70);function T(e){return Object(x.jsxs)("div",{className:"Overlay",children:[Object(x.jsx)(C.a,{className:"Overlay-Container",children:Object(x.jsxs)(C.a.Body,{children:[Object(x.jsx)(N.a,{className:"right",onClick:e.disableOverlay}),Object(x.jsx)(C.a.Text,{children:e.content})]})}),Object(x.jsx)(b.a,{className:"Overlay-Greyscreen",onClick:e.disableOverlay,fluid:!0,children:" "})]})}function F(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(p.a)(r,2),l=i[0],o=i[1];Object(a.useEffect)((function(){e.assignRecipients()}),[]);return Object(x.jsxs)(b.a,{className:"ResultPage",fluid:!0,children:[Object(x.jsx)(R,{santas:e.santas,showResult:function(t){var n=e.santas[t.assigned];c(Object(x.jsxs)("div",{className:"Overlay-Result",children:[Object(x.jsxs)("p",{children:[t.name,","]}),Object(x.jsxs)("p",{children:["You are assigned to ",Object(x.jsx)("strong",{children:n.name})]})]}))},assignedVisible:l}),Object(x.jsxs)("div",{className:"ButtonBar",children:[Object(x.jsx)(h.a,{variant:"outline-dark",onClick:function(){e.toPage(v)},children:"Back"}),Object(x.jsx)(h.a,{variant:"outline-dark",onClick:function(){e.assignRecipients()},children:"Reshuffle!"}),Object(x.jsx)(h.a,{variant:"outline-dark",onClick:function(){o(!l)},children:"Show All!"}),Object(x.jsx)(h.a,{variant:"outline-dark",onClick:function(){e.toPage(f)},children:"Finished"})]}),s&&Object(x.jsx)(T,{content:s,disableOverlay:function(){return c(null)}})]})}var G=n(83);n(71);function M(e){return Object(x.jsx)(G.a,{className:"Header",children:Object(x.jsxs)(b.a,{className:"justify-content-center",fluid:!0,children:[Object(x.jsx)("img",{src:O,alt:"logo",className:"logo"}),Object(x.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"})]})})}var H=n(81),_=n(53);n(72);function V(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(p.a)(r,2),l=i[0],o=i[1],u=Object(a.useState)(!1),j=Object(p.a)(u,2),d=j[0],b=j[1];Object(a.useEffect)((function(){var e=setInterval((function(){return o(!1)}),1e3);return function(){return clearInterval(e)}}),[l]),Object(a.useEffect)((function(){var e=setInterval((function(){return b(!1)}),1e3);return function(){return clearInterval(e)}}),[d]);var O=Object(x.jsxs)("div",{className:"Credit",children:[Object(x.jsx)("h1",{children:"Credit"}),Object(x.jsxs)("p",{children:["Illustration: ",Object(x.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})]});return Object(x.jsxs)(G.a,{className:"Footer justify-content-center",children:[Object(x.jsxs)(H.a,{className:"Footer-links",children:[Object(x.jsx)(h.a,{variant:"link",onClick:function(){return c(O)},children:"Credit"}),Object(x.jsx)(h.a,{variant:"link",onClick:function(){c(Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"Loading"})})),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(e){return e.text()})).then((function(e){return c(Object(x.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:_.marked.parse(e)}}))}))},children:"Change Log"}),Object(x.jsx)(h.a,{variant:"link",onClick:function(){return e="https://github.com/Kit2196/secret-santa-generator",window.open(e,"_blank");var e},children:"Github Repository"}),Object(x.jsx)(h.a,{variant:"link",onClick:function(){return o(!0)},children:l?"WIP":"My page"}),Object(x.jsx)(h.a,{variant:"link",onClick:function(){return b(!0)},children:d?"WIP":"Other projects"})]}),s&&Object(x.jsx)(T,{content:s,disableOverlay:function(){return c(null)}})]})}var K=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"factorial",value:function(e){return e>1?this.factorial(e-1)*e:1}},{key:"randomInt",value:function(e,t){return Math.round(Math.random()*(t-e))+e}},{key:"derangement",value:function(t){for(var n=Object(i.a)(Array(t).keys()),a=Array(t).fill(!1),s=function(t){return(e.factorial(t)+1)/Math.E},c=t,r=t;r>=2;){if(!a[c-1]){do{var l=e.randomInt(1,c-1)}while(a[l-1]);var o=[n[l-1],n[c-1]];n[c-1]=o[0],n[l-1]=o[1],Math.random()<(r-1)*s(r-2)/s(r)&&(a[l-1]=!0,r--),r--}c--}return n}}]),e}(),D=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={page:f,santas:[],rules:{}},a.toPage=a.toPage.bind(Object(u.a)(a)),a.addSanta=a.addSanta.bind(Object(u.a)(a)),a.removeSanta=a.removeSanta.bind(Object(u.a)(a)),a.removeAllSantas=a.removeAllSantas.bind(Object(u.a)(a)),a.assignRecipients=a.assignRecipients.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"toPage",value:function(e){var t=this.state;t.page=e,this.setState(t)}},{key:"addSanta",value:function(e){var t={id:Date.now(),name:e,assigned:null},n=this.state;n.santas=[].concat(Object(i.a)(n.santas),[t]),this.setState(n)}},{key:"removeSanta",value:function(e){var t=this.state;t.santas=t.santas.filter((function(t){return t.id!==e})),this.setState(t)}},{key:"removeAllSantas",value:function(){var e=this.state;e.santas=[],this.setState(e)}},{key:"assignRecipients",value:function(){var e,t=function(e){for(var t=0;t<e.length;t++)if(t===e[t])return!1;return!0};do{e=K.derangement(this.state.santas.length)}while(!t(e));for(var n=this.state,a=0;a<this.state.santas.length;a++)n.santas[a].assigned=e[a];this.setState(n)}},{key:"loadPage",value:function(){var e=this;switch(this.state.page){case f:return Object(x.jsx)(g,{onStart:function(){e.toPage(v)},removeAllSantas:this.removeAllSantas});case v:return Object(x.jsx)(L,{santas:this.state.santas,addSanta:this.addSanta,removeSanta:this.removeSanta,toPage:this.toPage});case m:return Object(x.jsx)(F,{santas:this.state.santas,assignRecipients:this.assignRecipients,toPage:this.toPage});default:return Object(x.jsx)("p",{children:"Error! Page not found!"})}}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"SecretSanta",children:[this.state.page!=f&&Object(x.jsx)(M,{}),this.loadPage(),Object(x.jsx)(V,{})]})}}]),n}(s.a.Component);var J=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(D,{})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root")),Q()}},[[73,1,2]]]);
//# sourceMappingURL=main.b56d0c88.chunk.js.map