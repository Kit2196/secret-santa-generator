(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(10),i=n.n(c),r=(n(18),n(19),n(8)),o=n(6),l=n(7),j=n(3),u=n(13),d=n(12),b=(n(20),"https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png"),h=0,O=1,f=2,v=(n(21),n(0));function g(t){return Object(v.jsxs)("div",{className:"Start",children:[Object(v.jsx)("img",{src:b,alt:"logo"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Secret Santa Generator"}),Object(v.jsx)("button",{onClick:t.onStart,children:"Start"})]})]})}n(23);function x(t){return Object(v.jsxs)("li",{className:"SantaCell",onClick:t.showResult?function(){t.showResult(t.santa)}:null,children:[Object(v.jsx)("p",{children:t.santa.name}),t.removeSanta&&Object(v.jsx)("button",{className:"CellRemoveBtn",onClick:function(){t.removeSanta(t.santa.id)},children:"\u2716"}),t.assigned&&Object(v.jsxs)("p",{children:["Assigned to ",t.assigned.name]})]},t.santa.id)}function m(t){return t.santas.length>0?Object(v.jsx)("ul",{className:"SantaTable",children:t.santas.map((function(e){return Object(v.jsx)(x,{santa:e,showResult:t.showResult,removeSanta:t.removeSanta,assigned:t.assignedVisible?t.santas[e.assigned]:null})}))}):Object(v.jsx)("p",{children:"There are no santa yet..."})}var S=n(2);function p(t){var e=Object(a.useState)(""),n=Object(S.a)(e,2),s=n[0],c=n[1];return Object(v.jsxs)("form",{className:"SantaInput",onSubmit:function(e){e.preventDefault(),t.addSanta(s)&&c("")},children:[Object(v.jsx)("input",{value:s,placeholder:"Enter a name here...",onChange:function(t){c(t.target.value)}}),Object(v.jsx)("input",{type:"submit",value:"Add"})]})}function k(t){return Object(v.jsxs)("div",{className:"EditPage",children:[Object(v.jsx)(p,{addSanta:t.addSanta}),Object(v.jsx)(m,{santas:t.santas,removeSanta:t.removeSanta}),Object(v.jsxs)("div",{className:"ButtonBar",children:[Object(v.jsx)("button",{onClick:function(){t.toPage(h)},children:"Back"}),Object(v.jsx)("button",{onClick:function(){t.toPage(f)},children:"Confirm"})]})]})}n(24),n(25);function C(t){return Object(v.jsxs)("div",{className:"Overlay",children:[Object(v.jsxs)("div",{className:"Overlay-Container",children:[Object(v.jsx)("button",{className:"Overlay-Close-Btn",onClick:t.disableOverlay,children:"\u2716"}),t.content]}),Object(v.jsx)("div",{className:"Overlay-Greyscreen",onClick:t.disableOverlay,children:" "})]})}function y(t){var e=Object(a.useState)(null),n=Object(S.a)(e,2),s=n[0],c=n[1],i=Object(a.useState)(!1),r=Object(S.a)(i,2),o=r[0],l=r[1];Object(a.useEffect)((function(){t.assignRecipients()}),[]);return Object(v.jsxs)("div",{className:"SantaResult",children:[Object(v.jsx)(m,{santas:t.santas,showResult:function(e){var n=t.santas[e.assigned];c(Object(v.jsxs)("div",{className:"Overlay-Result",children:[Object(v.jsxs)("p",{children:[e.name,","]}),Object(v.jsxs)("p",{children:["You are assigned to ",Object(v.jsx)("strong",{children:n.name})]})]}))},assignedVisible:o}),Object(v.jsxs)("div",{className:"ButtonBar",children:[Object(v.jsx)("button",{onClick:function(){t.toPage(O)},children:"Back"}),Object(v.jsx)("button",{onClick:function(){l(!o)},children:"Show All!"}),Object(v.jsx)("button",{onClick:function(){t.toPage(h)},children:"Confirm"})]}),s&&Object(v.jsx)(C,{content:s,disableOverlay:function(){return c(null)}})]})}n(26);function N(t){return Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)("img",{src:b,alt:"logo"}),Object(v.jsx)("p",{children:"Secret Santa Generator"})]})}var A=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,null,[{key:"factorial",value:function(t){return t>1?this.factorial(t-1)*t:1}},{key:"randomInt",value:function(t,e){return Math.round(Math.random()*(e-t))+t}},{key:"derangement",value:function(e){for(var n=Object(r.a)(Array(e).keys()),a=Array(e).fill(!1),s=function(e){return(t.factorial(e)+1)/Math.E},c=e,i=e;i>=2;){if(!a[c-1]){do{var o=t.randomInt(1,c-1)}while(a[o-1]);var l=[n[o-1],n[c-1]];n[c-1]=l[0],n[o-1]=l[1],Math.random()<(i-1)*s(i-2)/s(i)&&(a[o-1]=!0,i--),i--}c--}return n}}]),t}(),P=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={page:h,santas:[],rules:{}},a.toPage=a.toPage.bind(Object(j.a)(a)),a.addSanta=a.addSanta.bind(Object(j.a)(a)),a.removeSanta=a.removeSanta.bind(Object(j.a)(a)),a.assignRecipients=a.assignRecipients.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"toPage",value:function(t){var e=this.state;e.page=t,this.setState(e)}},{key:"addSanta",value:function(t){if(""===t)return!1;for(var e=0;e<this.state.santas.length;e++)if(this.state.santas[e].name===t)return!1;var n={id:Date.now(),name:t,assigned:null},a=this.state;return a.santas=[].concat(Object(r.a)(a.santas),[n]),this.setState(a),!0}},{key:"removeSanta",value:function(t){var e=this.state;e.santas=e.santas.filter((function(e){return e.id!==t})),this.setState(e)}},{key:"assignRecipients",value:function(){for(var t=A.derangement(this.state.santas.length),e=this.state,n=0;n<this.state.santas.length;n++)e.santas[n].assigned=t[n];this.setState(e)}},{key:"render",value:function(){var t,e=this,n=!0;switch(this.state.page){case h:t=Object(v.jsx)(g,{onStart:function(){e.toPage(O)}}),n=!1;break;case O:t=Object(v.jsx)(k,{santas:this.state.santas,addSanta:this.addSanta,removeSanta:this.removeSanta,toPage:this.toPage});break;case f:t=Object(v.jsx)(y,{santas:this.state.santas,assignRecipients:this.assignRecipients,toPage:this.toPage});break;default:t=Object(v.jsx)("p",{children:"Error! Page not found!"})}return Object(v.jsxs)("div",{className:"SecretSanta",children:[n&&Object(v.jsx)(N,{}),t]})}}]),n}(s.a.Component),R=n(11);n(27);function w(t){var e=Object(a.useState)(null),n=Object(S.a)(e,2),s=n[0],c=n[1],i=Object(v.jsxs)("div",{className:"Credit",children:[Object(v.jsx)("h1",{children:"Credit"}),Object(v.jsxs)("p",{children:["Illustration: ",Object(v.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})]});return Object(v.jsxs)("div",{className:"Footer",children:[Object(v.jsxs)("ul",{className:"Footer-links",children:[Object(v.jsx)("li",{onClick:function(){return c(i)},children:"Credit"}),Object(v.jsx)("li",{onClick:function(){c(Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Loading"})})),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(t){return t.text()})).then((function(t){return c(Object(v.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:R.marked.parse(t)}}))}))},children:"Change Log"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://github.com/Kit2196/secret-santa-generator",children:"Github Repository"})}),Object(v.jsx)("li",{children:"My page"}),Object(v.jsx)("li",{children:"Other projects"})]}),s&&Object(v.jsx)(C,{content:s,disableOverlay:function(){return c(null)}})]})}var B=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(P,{}),Object(v.jsx)(w,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),c(t),i(t)}))};i.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root")),E()}},[[28,1,2]]]);
//# sourceMappingURL=main.0da7c30e.chunk.js.map