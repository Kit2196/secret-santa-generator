(this["webpackJsonpsecret-santa-generator"]=this["webpackJsonpsecret-santa-generator"]||[]).push([[0],{135:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},141:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(27),r=a.n(s),i=(a(135),a(136),a(137),a(19)),l=a(29),o=a(34),j=a(40),u=a(55),b=a(54),d=(a(138),a(206)),O=a(205),h=a(186),f=a(119),v="https://1.bp.blogspot.com/-NtTQSOUkR9o/XVKfuVfLHcI/AAAAAAABUEA/1JsyRnHO9-8SxPb_OYm-HKAQ10dV2C45QCLcBGAs/s1600/christmas_black_santa.png",x=0,m=1,g=2,S=Object(f.a)({palette:{black:{main:"#000",contrastText:"#fff"}}}),k=(a(141),a(1));function p(e){return Object(n.useEffect)((function(){e.removeAllSantas()}),[]),Object(k.jsx)(h.a,{className:"StartPage",children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)("img",{src:v,alt:"logo"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"}),Object(k.jsx)(d.a,{theme:S,children:Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:e.onStart,children:"Start"})})]})]})})}var C=a(3),N=a(6),y=(a(145),a(146),a(114)),A=a.n(y),P=a(115),w=a.n(P),R=a(203),I=a(208),B=a(198),E=a(202),H=a(197),T=a(191);function L(e){var t=Object(N.a)(e.error,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return c(!1)}),2e3);return function(){return clearInterval(e)}}),[a]),Object(k.jsx)(H.a,{target:e.target,show:a,placement:"top",children:Object(k.jsx)(T.a,{children:a})})}function F(e){var t=Object(n.useState)(e.santa.name),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(N.a)(r,2),l=i[0],o=i[1],j=Object(n.useRef)(null);return Object(k.jsxs)(E.a,Object(C.a)(Object(C.a)({},e),{},{className:"EditCard",size:"lg",centered:!0,children:[Object(k.jsx)(E.a.Header,{children:Object(k.jsx)(E.a.Title,{children:"Edit Santa Info"})}),Object(k.jsx)(E.a.Body,{children:Object(k.jsx)(B.a,{label:"Name",value:c,onChange:function(e){s(e.target.value)}})}),Object(k.jsxs)(E.a.Footer,{children:[Object(k.jsxs)(d.a,{theme:S,children:[Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:e.onHide,children:"Cancel"}),Object(k.jsx)(O.a,{ref:j,color:"black",variant:"outlined",onClick:function(){var t=e.validateName(c,!1);if(o(t),!t){var a=e.santa;a.name=c,e.editSanta(e.santa.id,a),e.onHide()}},children:"Confirm"})]}),Object(k.jsx)(L,{target:j.current,error:[l,o]})]})]}))}function M(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(k.jsx)(I.a,{className:"right",fontSize:"small",onClick:function(){return s(!0)},children:Object(k.jsx)(A.a,{})}),i=Object(k.jsx)(I.a,{className:"right",fontSize:"small",onClick:function(){e.removeSanta(e.santa.id)},children:Object(k.jsx)(w.a,{})});return Object(k.jsx)(R.a,{className:"SantaCard",onClick:e.showResult?function(){e.showResult(e.santa)}:null,children:Object(k.jsxs)(R.a.Body,{children:[e.removeSanta&&i,r,Object(k.jsx)(R.a.Title,{children:e.santa.name}),e.assigned&&Object(k.jsxs)(R.a.Text,{children:["Assigned to ",e.assigned.name]}),Object(k.jsx)(F,Object(C.a)(Object(C.a)({},e),{},{show:c,onHide:function(){return s(!1)}}))]})})}var G=a(195),_=a(116);function V(e){return Object(k.jsx)(h.a,{className:"SantaTable",fluid:!0,children:e.santas.length>0?Object(k.jsx)(G.a,{xs:2,sm:3,md:5,children:e.santas.map((function(t){return Object(k.jsx)(_.a,{children:Object(k.jsx)(M,Object(C.a)(Object(C.a)({},e),{},{santa:t,assigned:e.assignedVisible?e.santas[t.assigned]:null}))})}))}):Object(k.jsx)("p",{children:"There are no santa yet..."})})}var z=a(200),K=a(117);function D(e){var t=Object(n.useState)(""),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(N.a)(r,2),l=i[0],o=i[1],j=Object(n.useRef)(null);return Object(k.jsxs)(z.a,{className:"SantaInput",onSubmit:function(t){t.preventDefault();var a=e.validateName(c,!0);o(a),a||(e.addSanta(c),s(""))},children:[Object(k.jsx)(K.a,{value:c,placeholder:"Enter a name here...",onChange:function(e){s(e.target.value)},maxLength:20}),Object(k.jsx)(d.a,{theme:S,children:Object(k.jsx)(O.a,{ref:j,color:"black",variant:"outlined",type:"submit",value:"Add",children:"Add"})}),Object(k.jsx)(L,{target:j.current,error:[l,o]})]})}function J(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(n.useRef)(null),i=function(t,a){if(""===t)return"Name cannot be empty.";if(a)for(var n=0;n<e.santas.length;n++)if(e.santas[n].name===t)return"Name has been entered.";return null},l=function(){return e.santas.length<2?"Please enter at least 2 names.":null};return Object(k.jsxs)(h.a,{className:"EditPage",fluid:!0,children:[Object(k.jsx)(D,Object(C.a)(Object(C.a)({},e),{},{validateName:i})),Object(k.jsx)(V,Object(C.a)(Object(C.a)({},e),{},{validateName:i})),Object(k.jsxs)("div",{className:"ButtonBar",children:[Object(k.jsxs)(d.a,{theme:S,children:[Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:function(){e.toPage(x)},children:"Back"}),Object(k.jsx)(O.a,{ref:r,color:"black",variant:"outlined",onClick:function(){var t=l();s(t),t||e.toPage(g)},children:"Confirm"})]}),Object(k.jsx)(L,{target:r.current,error:[c,s]})]})]})}a(148),a(149);function Q(e){return Object(k.jsxs)(E.a,Object(C.a)(Object(C.a)({},e),{},{size:"lg",centered:!0,children:[Object(k.jsx)(E.a.Header,{closeButton:!0,children:Object(k.jsx)(E.a.Title,{children:e.title})}),Object(k.jsx)(E.a.Body,{children:e.content})]}))}function Y(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),i=Object(N.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(null),u=Object(N.a)(j,2),b=u[0],f=u[1],v=Object(n.useState)(!1),g=Object(N.a)(v,2),p=g[0],C=g[1];Object(n.useEffect)((function(){e.assignRecipients()}),[]);return Object(k.jsxs)(h.a,{className:"ResultPage",fluid:!0,children:[Object(k.jsx)(V,{santas:e.santas,showResult:function(t){var a=e.santas[t.assigned];o(Object(k.jsx)("p",{children:t.name})),f(Object(k.jsxs)("p",{children:["Your recipient is ",Object(k.jsx)("strong",{children:a.name}),"!"]})),s(!0)},assignedVisible:p}),Object(k.jsx)("p",{className:"result-note",children:"*You can click on each box to check the recipient for a specific santa."}),Object(k.jsx)("div",{className:"ButtonBar",children:Object(k.jsxs)(d.a,{theme:S,children:[Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:function(){e.toPage(m)},children:"Back"}),Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:function(){e.assignRecipients()},children:"Reshuffle!"}),Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:function(){C(!p)},children:"Show All!"}),Object(k.jsx)(O.a,{color:"black",variant:"outlined",onClick:function(){e.toPage(x)},children:"Finished"})]})}),Object(k.jsx)(Q,{show:c,onHide:function(){return s(!1)},title:l,content:b})]})}var U=a(199);a(150);function W(e){return Object(k.jsx)(U.a,{className:"Header",children:Object(k.jsxs)(h.a,{className:"justify-content-center",fluid:!0,children:[Object(k.jsx)("img",{src:v,alt:"logo",className:"logo"}),Object(k.jsx)("p",{className:"App-Name",children:"Secret Santa Generator"})]})})}var X=a(196),q=a(207),Z=a(118);a(151);function $(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),i=Object(N.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)(null),u=Object(N.a)(j,2),b=u[0],d=u[1],O=Object(n.useState)(!1),h=Object(N.a)(O,2),f=h[0],v=h[1],x=Object(n.useState)(!1),m=Object(N.a)(x,2),g=m[0],S=m[1];Object(n.useEffect)((function(){var e=setInterval((function(){return v(!1)}),1e3);return function(){return clearInterval(e)}}),[f]),Object(n.useEffect)((function(){var e=setInterval((function(){return S(!1)}),1e3);return function(){return clearInterval(e)}}),[g]);return Object(k.jsxs)(U.a,{className:"Footer justify-content-center",children:[Object(k.jsxs)(X.a,{className:"Footer-links",children:[Object(k.jsx)(q.a,{variant:"link",onClick:function(){o("Credit"),d(Object(k.jsxs)("p",{children:["Illustration: ",Object(k.jsx)("a",{href:"https://www.irasutoya.com/",children:"\u3044\u3089\u3059\u3068\u3084"})]})),s(!0)},children:"Credit"}),Object(k.jsx)(q.a,{variant:"link",onClick:function(){o(Object(k.jsx)("p",{children:"Loading"})),s(!0),fetch("https://raw.githubusercontent.com/Kit2196/secret-santa-generator/main/CHANGELOG.md").then((function(e){return e.text()})).then((function(e){o(Object(k.jsx)("p",{children:"ChangeLog"})),d(Object(k.jsx)("div",{className:"Changelog",dangerouslySetInnerHTML:{__html:Z.marked.parse(e)}}))}))},children:"Change Log"}),Object(k.jsx)(q.a,{variant:"link",onClick:function(){return e="https://github.com/Kit2196/secret-santa-generator",window.open(e,"_blank");var e},children:"Github Repository"}),Object(k.jsx)(q.a,{variant:"link",onClick:function(){return v(!0)},children:f?"WIP":"My page"}),Object(k.jsx)(q.a,{variant:"link",onClick:function(){return S(!0)},children:g?"WIP":"Other projects"})]}),Object(k.jsx)(Q,{show:c,onHide:function(){return s(!1)},title:l,content:b})]})}var ee=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"factorial",value:function(e){return e>1?this.factorial(e-1)*e:1}},{key:"randomInt",value:function(e,t){return Math.round(Math.random()*(t-e))+e}},{key:"derangement",value:function(t){for(var a=Object(i.a)(Array(t).keys()),n=Array(t).fill(!1),c=function(t){return(e.factorial(t)+1)/Math.E},s=t,r=t;r>=2;){if(!n[s-1]){do{var l=e.randomInt(1,s-1)}while(n[l-1]);var o=[a[l-1],a[s-1]];a[s-1]=o[0],a[l-1]=o[1],Math.random()<(r-1)*c(r-2)/c(r)&&(n[l-1]=!0,r--),r--}s--}return a}}]),e}(),te=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={page:x,santas:[],rules:{}},n.toPage=n.toPage.bind(Object(j.a)(n)),n.addSanta=n.addSanta.bind(Object(j.a)(n)),n.editSanta=n.editSanta.bind(Object(j.a)(n)),n.removeSanta=n.removeSanta.bind(Object(j.a)(n)),n.removeAllSantas=n.removeAllSantas.bind(Object(j.a)(n)),n.assignRecipients=n.assignRecipients.bind(Object(j.a)(n)),n}return Object(o.a)(a,[{key:"toPage",value:function(e){var t=this.state;t.page=e,this.setState(t)}},{key:"addSanta",value:function(e){var t={id:Date.now(),name:e,assigned:null},a=this.state;a.santas=[].concat(Object(i.a)(a.santas),[t]),this.setState(a)}},{key:"editSanta",value:function(e,t){for(var a=this.state,n=0;n<a.santas.length;n++)if(a.santas[n].id===e){a.santas[n]=t;break}this.setState(a)}},{key:"removeSanta",value:function(e){var t=this.state;t.santas=t.santas.filter((function(t){return t.id!==e})),this.setState(t)}},{key:"removeAllSantas",value:function(){var e=this.state;e.santas=[],this.setState(e)}},{key:"assignRecipients",value:function(){var e,t=function(e){for(var t=0;t<e.length;t++)if(t===e[t])return!1;return!0};do{e=ee.derangement(this.state.santas.length)}while(!t(e));for(var a=this.state,n=0;n<this.state.santas.length;n++)a.santas[n].assigned=e[n];this.setState(a)}},{key:"loadPage",value:function(){var e=this;switch(this.state.page){case x:return Object(k.jsx)(p,{onStart:function(){e.toPage(m)},removeAllSantas:this.removeAllSantas});case m:return Object(k.jsx)(J,{santas:this.state.santas,addSanta:this.addSanta,editSanta:this.editSanta,removeSanta:this.removeSanta,toPage:this.toPage});case g:return Object(k.jsx)(Y,{santas:this.state.santas,assignRecipients:this.assignRecipients,toPage:this.toPage});default:return Object(k.jsx)("p",{children:"Error! Page not found!"})}}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"SecretSanta",children:[this.state.page!==x&&Object(k.jsx)(W,{}),this.loadPage(),Object(k.jsx)($,{})]})}}]),a}(c.a.Component);var ae=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(te,{})})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(ae,{})}),document.getElementById("root")),ne()}},[[152,1,2]]]);
//# sourceMappingURL=main.8b520bf3.chunk.js.map